<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Autofill Testing Suite - Comprehensive Test Cases</title>
    <style>
        :root {
            --primary-green: #2d7a4f;
            --light-green: #40a860;
            --dark-green: #1e5538;
            --success-green: #4caf50;
            --white: #ffffff;
            --black: #000000;
            --gray-100: #f5f5f5;
            --gray-200: #e0e0e0;
            --gray-300: #bdbdbd;
            --gray-400: #757575;
            --gray-500: #616161;
            --gray-600: #424242;
            --gray-700: #303030;
            --gray-800: #212121;
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            max-width: 1200px; 
            margin: 0 auto; 
            padding: 20px;
            background: var(--gray-100);
            color: var(--gray-800);
            line-height: 1.6;
        }
        
        header {
            background: var(--white);
            padding: 30px;
            margin-bottom: 30px;
            border-left: 6px solid var(--primary-green);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        h1 { 
            color: var(--gray-800);
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 15px;
        }
        
        .subtitle {
            color: var(--gray-500);
            font-size: 16px;
            line-height: 1.8;
            max-width: 900px;
        }
        
        .subtitle strong {
            color: var(--primary-green);
        }
        
        h2 { 
            background: var(--primary-green);
            color: var(--white);
            padding: 15px 20px; 
            margin-top: 40px;
            margin-bottom: 20px;
            font-size: 20px;
            font-weight: 600;
            border-radius: 4px;
        }
        
        .secao { 
            background: var(--white);
            padding: 25px; 
            margin-bottom: 25px; 
            border-radius: 4px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            border-left: 3px solid var(--light-green);
        }
        
        .form-group { 
            margin-bottom: 25px; 
            padding: 15px; 
            background: var(--gray-100);
            border-left: 3px solid var(--success-green);
            border-radius: 2px;
        }
        
        .form-group.desafio { 
            border-left-color: var(--gray-400);
            background: #fafafa;
        }
        
        .form-group.extremo { 
            border-left-color: var(--gray-600);
            background: #f0f0f0;
        }
        
        label, span { 
            display: block; 
            font-weight: 600; 
            margin-bottom: 8px;
            color: var(--gray-700);
            font-size: 14px;
        }
        
        input, select, textarea { 
            width: 100%; 
            padding: 10px 12px; 
            border: 2px solid var(--gray-300);
            border-radius: 4px;
            font-size: 14px;
            font-family: inherit;
            transition: border-color 0.2s;
        }
        
        input:focus, select:focus, textarea:focus { 
            outline: none;
            border-color: var(--primary-green);
        }
        
        .hint { 
            font-size: 12px; 
            color: var(--gray-500); 
            font-weight: normal;
            margin-top: 6px;
            line-height: 1.4;
        }
        
        .badge {
            display: inline-block;
            padding: 4px 10px;
            background: var(--success-green);
            color: var(--white);
            border-radius: 3px;
            font-size: 11px;
            font-weight: 600;
            margin-left: 10px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .badge.dificil { 
            background: var(--gray-500);
        }
        
        .badge.extremo { 
            background: var(--gray-700);
        }
        
        .info-box {
            background: #e8f5e9;
            border-left: 4px solid var(--primary-green);
            padding: 15px;
            margin: 20px 0;
            border-radius: 2px;
        }
        
        .info-box p {
            color: var(--gray-700);
            margin: 8px 0;
        }
        
        code {
            background: var(--gray-200);
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            color: var(--gray-800);
        }
    </style>
</head>
<body>
    <header>
        <h1>Suite de Testes para Autofill</h1>
        <p class="subtitle">
            <strong>Ambiente completo de testes</strong> para avaliar algoritmos de preenchimento automático e extensões de navegador. 
            Esta página contém <strong>103 campos de formulário</strong> distribuídos em <strong>12 níveis de dificuldade</strong>, testando 
            diversos tipos de input, padrões e casos extremos. Use para validar precisão de detecção, lógica de correspondência de campos 
            e suporte multilíngue para qualquer implementação de autofill.
        </p>
        <p class="subtitle" style="margin-top: 10px;">
            <strong>Recursos principais:</strong> Atributos HTML5 (autocomplete, pattern, inputmode), múltiplos tipos de input 
            (text, select, checkbox, radio, textarea), campos multilíngues (PT/EN/ES) e testes de segurança (ignorar campos sensíveis).
        </p>
    </header>

    <!-- ============================================ -->
    <!-- PAINEL DE VALIDAÇÃO -->
    <!-- ============================================ -->
    <div style="background: var(--white); padding: 25px; border-radius: 4px; margin-bottom: 30px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); border-left: 6px solid var(--primary-green);">
        <h2 style="background: none; color: var(--gray-800); padding: 0; margin: 0 0 15px 0; font-size: 24px; border-bottom: 3px solid var(--primary-green); padding-bottom: 12px;">
            Validação e Controles de Teste
        </h2>
        <p style="color: var(--gray-600); margin-bottom: 20px; line-height: 1.6;">
            Compare os dados salvos com os campos preenchidos. Clique em <strong style="color: var(--primary-green);">Iniciar Validação</strong> 
            para analisar a precisão em todos os casos de teste. O validador requer acesso à API Chrome Storage (use servidor HTTP, não file://).
        </p>
        
        <div class="info-box" style="margin-bottom: 20px;">
            <p style="margin: 0 0 8px 0; font-weight: 600; color: var(--dark-green);">Importante: Use Servidor HTTP</p>
            <p style="margin: 0 0 5px 0;">A API Chrome Storage não funciona com protocolo <code>file://</code>. Opções:</p>
            <ul style="margin: 5px 0 0 20px; color: var(--gray-700);">
                <li>VS Code: Clique-direito em teste.html → "Open with Live Server"</li>
                <li>Python: <code>python -m http.server 8000</code> → abra http://localhost:8000/teste.html</li>
                <li>Instale a extensão "Web Server for Chrome" e hospede a pasta</li>
            </ul>
        </div>

        <div style="display: flex; gap: 15px; justify-content: flex-start; flex-wrap: wrap;">
            <button id="btnValidar" style="background: var(--primary-green); color: var(--white); border: none; padding: 14px 28px; font-size: 15px; font-weight: 600; border-radius: 4px; cursor: pointer; box-shadow: 0 2px 4px rgba(45,122,79,0.3); transition: background 0.2s;">
                Iniciar Validação
            </button>
            <button id="btnCopiar" style="background: var(--gray-600); color: var(--white); border: none; padding: 14px 28px; font-size: 15px; font-weight: 600; border-radius: 4px; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.2); display: none;">
                Copiar Resultado
            </button>
            <button id="btnCopiarLogs" style="background: var(--gray-500); color: var(--white); border: none; padding: 14px 28px; font-size: 15px; font-weight: 600; border-radius: 4px; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.2);">
                Copiar Logs do Console
            </button>
        </div>

        <div id="resultadoValidacao" style="margin-top: 25px; display: none;">
            <div style="background: var(--gray-100); padding: 20px; border-radius: 4px; border: 1px solid var(--gray-200);">
                <h3 style="margin-top: 0; color: var(--gray-800); border-bottom: 2px solid var(--primary-green); padding-bottom: 10px; font-size: 18px;">
                    Resultado da Validação
                </h3>
                <div id="estatisticas" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; margin-bottom: 20px;"></div>
                <div id="detalhesValidacao" style="max-height: 400px; overflow-y: auto;"></div>
            </div>
        </div>
    </div>

    <!-- ============================================ -->
    <!-- SEÇÃO 0: TESTE HTML5 AUTOCOMPLETE (Novo!) -->
    <!-- ============================================ -->
    <h2>Nível 0: Atributos HTML5 Autocomplete</h2>
    <div class="secao" style="border: 3px solid #667eea;">
        <p style="background: #e0e7ff; padding: 10px; border-radius: 5px; color: #3730a3;">
            <strong>Teste Especial:</strong> Estes campos usam atributos <code>autocomplete</code> HTML5 padrão, 
            sem labels descritivos. O algoritmo deve reconhecê-los pelo atributo!
        </p>

        <div class="form-group">
            <label for="ac_name">Seu nome:</label>
            <input type="text" id="ac_name" name="person_name" autocomplete="given-name">
            <div class="hint">autocomplete="given-name" detecta NOME</div>
        </div>

        <div class="form-group">
            <label for="ac_email">Contato:</label>
            <input type="email" id="ac_email" name="contact" autocomplete="email">
            <div class="hint">autocomplete="email" detecta EMAIL</div>
        </div>

        <div class="form-group">
            <label for="ac_phone">Fone:</label>
            <input type="tel" id="ac_phone" name="phone_number" autocomplete="tel">
            <div class="hint">autocomplete="tel" detecta TELEFONE</div>
        </div>

        <div class="form-group">
            <label for="ac_bday">Quando nasceu?</label>
            <input type="date" id="ac_bday" name="birth" autocomplete="bday">
            <div class="hint">autocomplete="bday" detecta DATA NASCIMENTO</div>
        </div>

        <div class="form-group">
            <label for="ac_postal">Código:</label>
            <input type="text" id="ac_postal" name="zip" autocomplete="postal-code">
            <div class="hint">autocomplete="postal-code" detecta CEP</div>
        </div>

        <div class="form-group">
            <label for="ac_address">Onde mora?</label>
            <input type="text" id="ac_address" name="location" autocomplete="street-address">
            <div class="hint">autocomplete="street-address" detecta RUA</div>
        </div>

        <div class="form-group">
            <label for="ac_city">Município:</label>
            <input type="text" id="ac_city" name="town" autocomplete="address-level2">
            <div class="hint">autocomplete="address-level2" detecta CIDADE</div>
        </div>

        <div class="form-group">
            <label for="ac_state">UF:</label>
            <input type="text" id="ac_state" name="province" autocomplete="address-level1">
            <div class="hint">autocomplete="address-level1" detecta ESTADO</div>
        </div>

        <div class="form-group">
            <label for="ac_company">Trabalha onde?</label>
            <input type="text" id="ac_company" name="workplace" autocomplete="organization">
            <div class="hint">autocomplete="organization" detecta EMPRESA</div>
        </div>

        <div class="form-group">
            <label for="ac_job">Cargo:</label>
            <input type="text" id="ac_job" name="position" autocomplete="organization-title">
            <div class="hint">autocomplete="organization-title" detecta PROFISSÃO</div>
        </div>
    </div>

    <!-- ============================================ -->
    <!-- SEÇÃO 0.5: PATTERN E INPUTMODE (Novo!) -->
    <!-- ============================================ -->
    <h2>Nível 0.5: Atributos Pattern e InputMode</h2>
    <div class="secao" style="border: 3px solid #f093fb;">
        <p style="background: #ffe0f0; padding: 10px; border-radius: 5px; color: #831843;">
            <strong>Teste Especial:</strong> Campos com <code>pattern</code> (regex) e <code>inputmode</code> 
            para detectar tipo por validação e teclado, sem labels descritivos.
        </p>

        <div class="form-group">
            <label for="pat_doc">Documento:</label>
            <input type="text" id="pat_doc" name="doc_field" pattern="[0-9]{3}\.[0-9]{3}\.[0-9]{3}-[0-9]{2}" inputmode="numeric">
            <div class="hint">pattern CPF + inputmode="numeric" detecta CPF</div>
        </div>

        <div class="form-group">
            <label for="pat_postal">Código Postal:</label>
            <input type="text" id="pat_postal" name="postal" pattern="[0-9]{5}-[0-9]{3}" inputmode="numeric">
            <div class="hint">pattern CEP + inputmode="numeric" detecta CEP</div>
        </div>

        <div class="form-group">
            <label for="pat_contact">Contato:</label>
            <input type="text" id="pat_contact" name="contact_field" pattern="\([0-9]{2}\) [0-9]{5}-[0-9]{4}" inputmode="tel">
            <div class="hint">pattern telefone + inputmode="tel" detecta TELEFONE</div>
        </div>

        <div class="form-group">
            <label for="im_email">Correio:</label>
            <input type="text" id="im_email" name="mail_field" inputmode="email">
            <div class="hint">inputmode="email" detecta EMAIL</div>
        </div>

        <div class="form-group">
            <label for="im_num">Nº:</label>
            <input type="text" id="im_num" name="house_num" inputmode="numeric">
            <div class="hint">inputmode="numeric" + label "Nº" detecta NUMERO</div>
        </div>
    </div>

    <!-- ============================================ -->
    <!-- SEÇÃO 1: TESTES BÁSICOS (Deve passar 100%) -->
    <!-- ============================================ -->
    <h2>Nível 1: Testes Básicos (Padrões Óbvios)</h2>
    <div class="secao">
        
        <div class="form-group">
            <label for="nome_completo">Nome Completo: <span class="badge">FÁCIL</span></label>
            <input type="text" id="nome_completo" name="nome" placeholder="Digite seu nome">
            <div class="hint">ID e name claros</div>
        </div>

        <div class="form-group">
            <label for="email">E-mail: <span class="badge">FÁCIL</span></label>
            <input type="email" id="email" name="email" placeholder="seu@email.com">
            <div class="hint">Type="email" + label clara</div>
        </div>

        <div class="form-group">
            <label for="cpf">CPF: <span class="badge">FÁCIL</span></label>
            <input type="text" id="cpf" name="cpf" placeholder="000.000.000-00">
            <div class="hint">ID, name e placeholder explícitos</div>
        </div>

        <div class="form-group">
            <label for="telefone">Telefone: <span class="badge">FÁCIL</span></label>
            <input type="tel" id="telefone" name="telefone" placeholder="(00) 00000-0000">
            <div class="hint">Type="tel" + atributos claros</div>
        </div>

        <div class="form-group">
            <label for="data_nascimento">Data de Nascimento: <span class="badge">FÁCIL</span></label>
            <input type="date" id="data_nascimento" name="data_nascimento">
            <div class="hint">Type="date" (formato ISO)</div>
        </div>

    </div>

    <!-- ============================================ -->
    <!-- SEÇÃO 2: TESTES MÉDIOS (IDs/Names estranhos) -->
    <!-- ============================================ -->
    <h2>Nível 2: Testes Médios (Atributos Obscuros)</h2>
    <div class="secao">
        
        <div class="form-group desafio">
            <label for="campo_aleatorio_123">Informe o seu E-mail: <span class="badge">MÉDIO</span></label>
            <input type="text" id="campo_aleatorio_123" name="field_xk2">
            <div class="hint">ID e name sem sentido, mas label ajuda</div>
        </div>

        <div class="form-group desafio">
            <span>Cadastro de Pessoa Física (CPF):</span>
            <input type="tel" name="data_field_02" placeholder="Apenas números">
            <div class="hint">Sem ID, sem label "for", apenas span antes</div>
        </div>

        <div class="form-group desafio">
            <label>
                Nome Completo <span class="badge">MÉDIO</span>
                <input type="text" name="n">
            </label>
            <div class="hint">Name="n" muito curto, input dentro do label</div>
        </div>

        <div class="form-group desafio">
            <div>Número de Telefone/Celular:</div>
            <input type="text" name="contact_info" placeholder="+55">
            <div class="hint">Div como label + placeholder genérico</div>
        </div>

        <div class="form-group desafio">
            <input type="text" name="addr_zip" placeholder="CEP" aria-label="Código Postal">
            <div class="hint">Sem label visível, usa aria-label</div>
        </div>

    </div>

    <!-- ============================================ -->
    <!-- SEÇÃO 3: TESTES DIFÍCEIS (Multilíngue e Variações) -->
    <!-- ============================================ -->
    <h2>Nível 3: Testes Difíceis (Multilíngue e Variações)</h2>
    <div class="secao">
        
        <div class="form-group desafio">
            <label for="fullname_en">Full Name: <span class="badge dificil">DIFÍCIL</span></label>
            <input type="text" id="fullname_en" name="user_fullname">
            <div class="hint">🌍 Inglês: "Full Name"</div>
        </div>

        <div class="form-group desafio">
            <label for="correo">Correo Electrónico: <span class="badge dificil">DIFÍCIL</span></label>
            <input type="text" id="correo" name="mail_address">
            <div class="hint">🌍 Espanhol: "Correo Electrónico"</div>
        </div>

        <div class="form-group desafio">
            <label for="dni">DNI / NIE: <span class="badge dificil">DIFÍCIL</span></label>
            <input type="text" id="dni" name="document_number">
            <div class="hint">🌍 Espanhol: DNI = CPF espanhol</div>
        </div>

        <div class="form-group desafio">
            <label>Birth Date: <span class="badge dificil">DIFÍCIL</span></label>
            <input type="text" name="dob" placeholder="MM/DD/YYYY">
            <div class="hint">🌍 Inglês: "Birth Date" + formato americano</div>
        </div>

        <div class="form-group desafio">
            <label for="tel_movil">Teléfono Móvil: <span class="badge dificil">DIFÍCIL</span></label>
            <input type="text" id="tel_movil" name="mobile_phone">
            <div class="hint">🌍 Espanhol: "Teléfono Móvil"</div>
        </div>

        <div class="form-group desafio">
            <label>Street Address: <span class="badge dificil">DIFÍCIL</span></label>
            <input type="text" name="address_line1" placeholder="123 Main St">
            <div class="hint">🌍 Inglês: "Street Address"</div>
        </div>

        <div class="form-group desafio">
            <label>City / Town: <span class="badge dificil">DIFÍCIL</span></label>
            <input type="text" name="locality" placeholder="Your city">
            <div class="hint">🌍 Inglês: "City" com name="locality"</div>
        </div>

        <div class="form-group desafio">
            <label>State / Province: <span class="badge dificil">DIFÍCIL</span></label>
            <input type="text" name="region" maxlength="2">
            <div class="hint">🌍 Inglês: "State/Province"</div>
        </div>

    </div>

    <!-- ============================================ -->
    <!-- SEÇÃO 4: TESTES EXTREMOS (Armadilhas) -->
    <!-- ============================================ -->
    <h2>Nível 4: Testes Extremos (Armadilhas e Casos Limite)</h2>
    <div class="secao">
        
        <div class="form-group extremo">
            <label>Pesquisar no site: <span class="badge extremo">NÃO DEVE PREENCHER</span></label>
            <input type="search" name="q" placeholder="Digite sua busca...">
            <div class="hint">[!] Campo de BUSCA - deve ser ignorado</div>
        </div>

        <div class="form-group extremo">
            <label for="username_login">Nome de Usuário (Login): <span class="badge extremo">NÃO DEVE PREENCHER</span></label>
            <input type="text" id="username_login" name="login">
            <div class="hint">[!] Campo de LOGIN - deve ser ignorado</div>
        </div>

        <div class="form-group extremo">
            <label for="password">Senha: <span class="badge extremo">NÃO DEVE PREENCHER</span></label>
            <input type="password" id="password" name="password">
            <div class="hint">[!] Campo de SENHA - deve ser ignorado</div>
        </div>

        <div class="form-group extremo">
            <label for="cnpj_empresa">CNPJ da Empresa: <span class="badge extremo">NÃO DEVE PREENCHER</span></label>
            <input type="text" id="cnpj_empresa" name="cnpj">
            <div class="hint">[!] CNPJ (não temos esse dado) - deve ser ignorado</div>
        </div>

        <div class="form-group extremo">
            <label>Nome do Produto: <span class="badge extremo">PODE CONFUNDIR</span></label>
            <input type="text" name="product_name" placeholder="Ex: Notebook Dell">
            <div class="hint">Contém "nome" mas não é nome de pessoa</div>
        </div>

        <div class="form-group extremo">
            <label for="numero_cartao">Número do Cartão de Crédito: <span class="badge extremo">NÃO DEVE PREENCHER</span></label>
            <input type="text" id="numero_cartao" name="card_number" maxlength="16">
            <div class="hint">[!] Contém "número" mas é cartão de crédito</div>
        </div>

        <div class="form-group extremo">
            <label for="cc_name_test">Nome no Cartão: <span class="badge extremo">NÃO DEVE PREENCHER</span></label>
            <input type="text" id="cc_name_test" name="cc_holder" autocomplete="cc-name">
            <div class="hint">[!] autocomplete="cc-name" - deve ser ignorado</div>
        </div>

        <div class="form-group extremo">
            <label for="cc_number_test">Número Cartão: <span class="badge extremo">NÃO DEVE PREENCHER</span></label>
            <input type="text" id="cc_number_test" name="cardnumber" autocomplete="cc-number">
            <div class="hint">[!] autocomplete="cc-number" - deve ser ignorado</div>
        </div>

        <div class="form-group extremo">
            <label for="pwd_new">Nova Senha: <span class="badge extremo">NÃO DEVE PREENCHER</span></label>
            <input type="password" id="pwd_new" name="newpwd" autocomplete="new-password">
            <div class="hint">[!] autocomplete="new-password" - deve ser ignorado</div>
        </div>

        <div class="form-group extremo">
            <label for="user_login">Login: <span class="badge extremo">NÃO DEVE PREENCHER</span></label>
            <input type="text" id="user_login" name="user" autocomplete="username">
            <div class="hint">[!] autocomplete="username" - deve ser ignorado</div>
        </div>

    </div>

    <!-- ============================================ -->
    <!-- SEÇÃO 5: ENDEREÇO COMPLETO (Cenário Real) -->
    <!-- ============================================ -->
    <h2>Nível 5: Endereço Completo (Cenário Real de E-commerce)</h2>
    <div class="secao">
        
        <div class="form-group">
            <label for="cep_entrega">CEP: <span class="badge">FÁCIL</span></label>
            <input type="text" id="cep_entrega" name="postal_code" placeholder="00000-000" maxlength="9">
        </div>

        <div class="form-group desafio">
            <label for="logradouro">Logradouro (Rua/Av): <span class="badge">MÉDIO</span></label>
            <input type="text" id="logradouro" name="street_address">
            <div class="hint">"Logradouro" é termo técnico brasileiro</div>
        </div>

        <div class="form-group">
            <label for="num_endereco">Nº: <span class="badge">MÉDIO</span></label>
            <input type="text" id="num_endereco" name="number" size="5">
        </div>

        <div class="form-group">
            <label for="compl">Complemento (Opcional): <span class="badge">FÁCIL</span></label>
            <input type="text" id="compl" name="complement" placeholder="Apto, Bloco, Sala...">
        </div>

        <div class="form-group">
            <label for="bairro_regiao">Bairro: <span class="badge">FÁCIL</span></label>
            <input type="text" id="bairro_regiao" name="neighborhood">
        </div>

        <div class="form-group">
            <label for="municipio">Cidade/Município: <span class="badge">MÉDIO</span></label>
            <input type="text" id="municipio" name="city">
            <div class="hint">Label diz "Município" mas campo é cidade</div>
        </div>

        <div class="form-group">
            <label for="uf">UF (Estado): <span class="badge">FÁCIL</span></label>
            <input type="text" id="uf" name="state" maxlength="2" placeholder="SP">
        </div>

    </div>

    <!-- ============================================ -->
    <!-- SEÇÃO 6: FORMATOS ALTERNATIVOS (Select, Textarea) -->
    <!-- ============================================ -->
    <h2>Nível 6: Formatos Alternativos (Além de Inputs)</h2>
    <div class="secao">
        
        <div class="form-group">
            <label for="estado_select">Estado (Select): <span class="badge">DIFÍCIL</span></label>
            <select id="estado_select" name="state_dropdown">
                <option value="">Selecione...</option>
                <option value="SP">São Paulo</option>
                <option value="RJ">Rio de Janeiro</option>
                <option value="MG">Minas Gerais</option>
            </select>
            <div class="hint">SELECT - atualmente não detectado (limitação)</div>
        </div>

        <div class="form-group">
            <label for="observacoes">Observações / Endereço Completo: <span class="badge">DIFÍCIL</span></label>
            <textarea id="observacoes" name="full_address" rows="3" placeholder="Digite o endereço completo"></textarea>
            <div class="hint">TEXTAREA - deve detectar por "endereço"</div>
        </div>

        <div class="form-group extremo">
            <input type="hidden" name="user_id" value="12345">
            <div class="hint">Hidden input - deve ser ignorado</div>
        </div>

        <div class="form-group extremo">
            <button type="submit">Enviar Formulário</button>
            <div class="hint">Botão - deve ser ignorado</div>
        </div>

    </div>

    <!-- ============================================ -->
    <!-- SEÇÃO 7: ATRIBUTOS MODERNOS (React/Vue Style) -->
    <!-- ============================================ -->
    <h2>Nível 7: Atributos Modernos (React/Vue/Angular)</h2>
    <div class="secao">
        
        <div class="form-group desafio">
            <input 
                type="text" 
                name="react_field_1" 
                data-label="Nome Completo"
                aria-label="Digite seu nome completo"
                placeholder="Frameworks usam data-label"
            >
            <div class="hint">Sem label visível, usa data-label e aria-label</div>
        </div>

        <div class="form-group desafio">
            <input 
                type="text" 
                name="vue_email"
                title="Endereço de E-mail"
                placeholder="user@example.com"
                class="input-email form-control"
            >
            <div class="hint">Usa atributo "title" e className</div>
        </div>

        <div class="form-group desafio">
            <div class="form-label">CEP de Entrega:</div>
            <input 
                type="text" 
                name="dynamic_cep"
                className="zipcode-input"
                placeholder="00000-000"
            >
            <div class="hint">Label em div separada + className (React)</div>
        </div>

    </div>

    <!-- ============================================ -->
    <!-- SEÇÃO 8: RG e Data (Testes Específicos) -->
    <!-- ============================================ -->
    <h2>Nível 8: RG e Data (Formatos Específicos)</h2>
    <div class="secao">
        
        <div class="form-group">
            <label for="rg_field">RG (Identidade): <span class="badge">FÁCIL</span></label>
            <input type="text" id="rg_field" name="identity_card" placeholder="00.000.000-0">
        </div>

        <div class="form-group desafio">
            <label for="id_card">Identity Card / Cédula: <span class="badge dificil">DIFÍCIL</span></label>
            <input type="text" id="id_card" name="id_number">
            <div class="hint">🌍 Multilíngue: "Identity Card"</div>
        </div>

        <div class="form-group">
            <label for="nascimento_texto">Data de Nascimento (Texto): <span class="badge">FÁCIL</span></label>
            <input type="text" id="nascimento_texto" name="birthdate_text" placeholder="DD/MM/AAAA">
        </div>

        <div class="form-group desafio">
            <label for="aniversario">Quando você nasceu? <span class="badge">MÉDIO</span></label>
            <input type="text" id="aniversario" name="bday" placeholder="Ex: 15/08/1990">
            <div class="hint">Label indireta, name="bday"</div>
        </div>

    </div>

    <!-- ============================================ -->
    <!-- SEÇÃO 9: NOVOS CAMPOS (Gênero, Estado Civil, etc) -->
    <!-- ============================================ -->
    <h2>Nível 9: Novos Campos Pessoais e Profissionais</h2>
    <div class="secao">
        
        <div class="form-group">
            <label for="genero_select">Gênero: <span class="badge">FÁCIL</span></label>
            <select id="genero_select" name="gender">
                <option value="">Selecione</option>
                <option value="masculino">Masculino</option>
                <option value="feminino">Feminino</option>
                <option value="outro">Outro</option>
            </select>
            <div class="hint"> SELECT dropdown - deve preencher com valor correto</div>
        </div>

        <div class="form-group">
            <label for="estado_civil_select">Estado Civil: <span class="badge">FÁCIL</span></label>
            <select id="estado_civil_select" name="marital_status">
                <option value="">Selecione</option>
                <option value="solteiro">Solteiro(a)</option>
                <option value="casado">Casado(a)</option>
                <option value="divorciado">Divorciado(a)</option>
                <option value="viuvo">Viúvo(a)</option>
            </select>
        </div>

        <div class="form-group">
            <label for="nome_mae">Nome da Mãe: <span class="badge">FÁCIL</span></label>
            <input type="text" id="nome_mae" name="mother_name">
        </div>

        <div class="form-group">
            <label for="nome_pai">Nome do Pai: <span class="badge">MÉDIO</span></label>
            <input type="text" id="nome_pai" name="father_name">
        </div>

        <div class="form-group">
            <label for="email_sec">E-mail Secundário: <span class="badge">MÉDIO</span></label>
            <input type="email" id="email_sec" name="secondary_email">
            <div class="hint">Deve detectar "secundário"</div>
        </div>

        <div class="form-group">
            <label for="tel_comercial">Telefone Comercial: <span class="badge">MÉDIO</span></label>
            <input type="tel" id="tel_comercial" name="business_phone">
        </div>

        <div class="form-group">
            <label for="profissao_field">Profissão/Ocupação: <span class="badge">FÁCIL</span></label>
            <input type="text" id="profissao_field" name="occupation">
        </div>

        <div class="form-group">
            <label for="empresa_field">Empresa onde trabalha: <span class="badge">MÉDIO</span></label>
            <input type="text" id="empresa_field" name="company_name">
        </div>

        <div class="form-group">
            <label for="escolaridade_select">Escolaridade: <span class="badge">FÁCIL</span></label>
            <select id="escolaridade_select" name="education_level">
                <option value="">Selecione</option>
                <option value="fundamental-completo">Fundamental Completo</option>
                <option value="medio-completo">Médio Completo</option>
                <option value="superior-completo">Superior Completo</option>
                <option value="pos-graduacao">Pós-graduação</option>
            </select>
        </div>

    </div>

    <!-- ============================================ -->
    <!-- SEÇÃO 10: DATA SEPARADA E ENDEREÇO COMPLETO -->
    <!-- ============================================ -->
    <h2>Nível 10: Campos Especiais (Data Separada e Endereço Completo)</h2>
    <div class="secao">
        
        <div class="form-group desafio">
            <label>Data de Nascimento: <span class="badge dificil">MUITO DIFÍCIL</span></label>
            <div style="display: flex; gap: 8px;">
                <input type="text" id="dia_nasc" name="birth_day" placeholder="DD" maxlength="2" style="width: 60px;">
                <input type="text" id="mes_nasc" name="birth_month" placeholder="MM" maxlength="2" style="width: 60px;">
                <input type="text" id="ano_nasc" name="birth_year" placeholder="YYYY" maxlength="4" style="width: 80px;">
            </div>
            <div class="hint">Campos SEPARADOS de data - deve preencher dia/mês/ano individualmente</div>
        </div>

        <div class="form-group desafio">
            <label for="data_selects">Data com SELECT: <span class="badge dificil">MUITO DIFÍCIL</span></label>
            <div style="display: flex; gap: 8px;">
                <select id="dia_select" name="day_select" style="width: 70px;">
                    <option value="">Dia</option>
                    <option value="01">01</option>
                    <option value="26">26</option>
                </select>
                <select id="mes_select" name="month_select" style="width: 70px;">
                    <option value="">Mês</option>
                    <option value="01">01</option>
                    <option value="06">06</option>
                </select>
                <select id="ano_select" name="year_select" style="width: 90px;">
                    <option value="">Ano</option>
                    <option value="2003">2003</option>
                    <option value="1990">1990</option>
                </select>
            </div>
            <div class="hint">SELECT dropdowns separados - comum em bancos</div>
        </div>

        <div class="form-group desafio">
            <label for="endereco_completo">Endereço Completo Residencial: <span class="badge dificil">DIFÍCIL</span></label>
            <input type="text" id="endereco_completo" name="full_address" placeholder="Rua, Número - Complemento">
            <div class="hint">Campo ÚNICO deve receber: Rua + Número + Complemento</div>
        </div>

        <div class="form-group">
            <label for="estado_select">Estado (UF): <span class="badge">MÉDIO</span></label>
            <select id="estado_select" name="state_uf">
                <option value="">Selecione</option>
                <option value="RS">RS</option>
                <option value="SP">SP</option>
                <option value="RJ">RJ</option>
                <option value="MG">MG</option>
            </select>
            <div class="hint"> SELECT de Estado - deve preencher RS</div>
        </div>

    </div>

    <!-- ============================================ -->
    <!-- SEÇÃO 11: ATRIBUTOS COMBINADOS (Realista) -->
    <!-- ============================================ -->
    <h2>Nível 11: Atributos Combinados (Cenário Realista)</h2>
    <div class="secao" style="border: 3px solid #fa709a;">
        <p style="background: #fff9e6; padding: 10px; border-radius: 5px; color: #8b5a00;">
            <strong>Teste Avançado:</strong> Sites reais usam MÚLTIPLOS atributos juntos: 
            autocomplete + pattern + inputmode + placeholder + aria-label. O algoritmo deve ponderar tudo!
        </p>

        <div class="form-group">
            <label for="combo_name">Full Name:</label>
            <input type="text" 
                   id="combo_name" 
                   name="person_full_name" 
                   autocomplete="given-name" 
                   placeholder="John Doe"
                   aria-label="Enter your full name"
                   required>
            <div class="hint">Label + autocomplete + placeholder + aria-label = NOME</div>
        </div>

        <div class="form-group">
            <label for="combo_email">Email Address:</label>
            <input type="email" 
                   id="combo_email" 
                   name="user_email_address" 
                   autocomplete="email"
                   inputmode="email"
                   placeholder="you@example.com"
                   pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$"
                   required>
            <div class="hint">type="email" + autocomplete + inputmode + pattern = EMAIL</div>
        </div>

        <div class="form-group">
            <label for="combo_phone">Phone Number:</label>
            <input type="tel" 
                   id="combo_phone" 
                   name="mobile_phone_number" 
                   autocomplete="tel"
                   inputmode="tel"
                   placeholder="(11) 98765-4321"
                   pattern="\([0-9]{2}\) [0-9]{5}-[0-9]{4}"
                   maxlength="15">
            <div class="hint">type="tel" + autocomplete + inputmode + pattern + placeholder = TELEFONE</div>
        </div>

        <div class="form-group">
            <label for="combo_zip">ZIP Code:</label>
            <input type="text" 
                   id="combo_zip" 
                   name="postal_zip_code" 
                   autocomplete="postal-code"
                   inputmode="numeric"
                   placeholder="00000-000"
                   pattern="[0-9]{5}-[0-9]{3}"
                   maxlength="9">
            <div class="hint">autocomplete + inputmode + pattern + placeholder + maxlength = CEP</div>
        </div>

        <div class="form-group">
            <label for="combo_address">Street Address:</label>
            <input type="text" 
                   id="combo_address" 
                   name="home_address_line" 
                   autocomplete="street-address"
                   placeholder="Av. Paulista, 1000"
                   aria-label="Enter your street address">
            <div class="hint">autocomplete + placeholder + aria-label = RUA</div>
        </div>

        <div class="form-group">
            <label for="combo_city">City:</label>
            <input type="text" 
                   id="combo_city" 
                   name="city_town_municipality" 
                   autocomplete="address-level2"
                   placeholder="São Paulo"
                   list="cities">
            <datalist id="cities">
                <option value="São Paulo">
                <option value="Rio de Janeiro">
                <option value="Curitiba">
            </datalist>
            <div class="hint">autocomplete + datalist + placeholder = CIDADE</div>
        </div>

        <div class="form-group">
            <label for="combo_bday">Date of Birth:</label>
            <input type="date" 
                   id="combo_bday" 
                   name="birth_date_field" 
                   autocomplete="bday"
                   placeholder="DD/MM/YYYY"
                   min="1900-01-01"
                   max="2025-12-31">
            <div class="hint">type="date" + autocomplete + min/max = DATA NASCIMENTO</div>
        </div>

    </div>

    <!-- ============================================ -->
    <!-- SEÇÃO 12: CHECKBOX & RADIO (Novo!) -->
    <!-- ============================================ -->
    <h2>Nível 12: Checkbox e Radio Buttons</h2>
    <div class="secao" style="border: 3px solid #4facfe;">
        <p style="background: #e0f7ff; padding: 10px; border-radius: 5px; color: #014361;">
            <strong>Teste Avançado:</strong> Campos com múltiplas opções usando checkbox e radio. 
            O algoritmo deve selecionar a opção correta baseada no valor salvo!
        </p>

        <!-- GÊNERO - RADIO -->
        <div class="form-group">
            <label style="display: block; margin-bottom: 10px;"><strong>Gênero (Radio):</strong></label>
            <div style="display: flex; flex-direction: column; gap: 8px; margin-left: 20px;">
                <label style="display: flex; align-items: center; gap: 8px;">
                    <input type="radio" id="genero_radio_m" name="genero_radio" value="masculino">
                    Masculino
                </label>
                <label style="display: flex; align-items: center; gap: 8px;">
                    <input type="radio" id="genero_radio_f" name="genero_radio" value="feminino">
                    Feminino
                </label>
                <label style="display: flex; align-items: center; gap: 8px;">
                    <input type="radio" id="genero_radio_o" name="genero_radio" value="outro">
                    Outro
                </label>
            </div>
            <div class="hint">Radio buttons - deve marcar a opção correta</div>
        </div>

        <!-- ESTADO CIVIL - RADIO -->
        <div class="form-group">
            <label style="display: block; margin-bottom: 10px;"><strong>Estado Civil (Radio):</strong></label>
            <div style="display: flex; flex-direction: column; gap: 8px; margin-left: 20px;">
                <label style="display: flex; align-items: center; gap: 8px;">
                    <input type="radio" id="ec_radio_s" name="estado_civil_radio" value="solteiro">
                    Solteiro(a)
                </label>
                <label style="display: flex; align-items: center; gap: 8px;">
                    <input type="radio" id="ec_radio_c" name="estado_civil_radio" value="casado">
                    Casado(a)
                </label>
                <label style="display: flex; align-items: center; gap: 8px;">
                    <input type="radio" id="ec_radio_d" name="estado_civil_radio" value="divorciado">
                    Divorciado(a)
                </label>
                <label style="display: flex; align-items: center; gap: 8px;">
                    <input type="radio" id="ec_radio_v" name="estado_civil_radio" value="viuvo">
                    Viúvo(a)
                </label>
            </div>
            <div class="hint">Radio buttons - deve marcar estado civil correto</div>
        </div>

        <!-- ESCOLARIDADE - RADIO -->
        <div class="form-group">
            <label style="display: block; margin-bottom: 10px;"><strong>Escolaridade (Radio):</strong></label>
            <div style="display: flex; flex-direction: column; gap: 8px; margin-left: 20px;">
                <label style="display: flex; align-items: center; gap: 8px;">
                    <input type="radio" id="esc_radio_f" name="escolaridade_radio" value="fundamental-completo">
                    Fundamental Completo
                </label>
                <label style="display: flex; align-items: center; gap: 8px;">
                    <input type="radio" id="esc_radio_m" name="escolaridade_radio" value="medio-completo">
                    Médio Completo
                </label>
                <label style="display: flex; align-items: center; gap: 8px;">
                    <input type="radio" id="esc_radio_s" name="escolaridade_radio" value="superior-completo">
                    Superior Completo
                </label>
                <label style="display: flex; align-items: center; gap: 8px;">
                    <input type="radio" id="esc_radio_p" name="escolaridade_radio" value="pos-graduacao">
                    Pós-graduação
                </label>
                <label style="display: flex; align-items: center; gap: 8px;">
                    <input type="radio" id="esc_radio_ms" name="escolaridade_radio" value="mestrado">
                    Mestrado
                </label>
            </div>
            <div class="hint">Radio buttons - deve marcar nível educacional correto</div>
        </div>

        <!-- GÊNERO - CHECKBOX (caso raro, mas existe) -->
        <div class="form-group">
            <label style="display: block; margin-bottom: 10px;"><strong>Gênero (Checkbox - seleção múltipla):</strong></label>
            <div style="display: flex; flex-direction: column; gap: 8px; margin-left: 20px;">
                <label style="display: flex; align-items: center; gap: 8px;">
                    <input type="checkbox" id="genero_check_m" name="genero_checkbox" value="masculino">
                    Masculino
                </label>
                <label style="display: flex; align-items: center; gap: 8px;">
                    <input type="checkbox" id="genero_check_f" name="genero_checkbox" value="feminino">
                    Feminino
                </label>
                <label style="display: flex; align-items: center; gap: 8px;">
                    <input type="checkbox" id="genero_check_o" name="genero_checkbox" value="outro">
                    Outro
                </label>
            </div>
            <div class="hint">Checkboxes - deve marcar a opção correta</div>
        </div>

        <!-- ESTADO (UF) - RADIO com siglas -->
        <div class="form-group">
            <label style="display: block; margin-bottom: 10px;"><strong>Estado (UF - Radio):</strong></label>
            <div style="display: flex; flex-wrap: wrap; gap: 15px; margin-left: 20px;">
                <label style="display: flex; align-items: center; gap: 5px;">
                    <input type="radio" name="uf_radio" value="RS"> RS
                </label>
                <label style="display: flex; align-items: center; gap: 5px;">
                    <input type="radio" name="uf_radio" value="SP"> SP
                </label>
                <label style="display: flex; align-items: center; gap: 5px;">
                    <input type="radio" name="uf_radio" value="RJ"> RJ
                </label>
                <label style="display: flex; align-items: center; gap: 5px;">
                    <input type="radio" name="uf_radio" value="MG"> MG
                </label>
                <label style="display: flex; align-items: center; gap: 5px;">
                    <input type="radio" name="uf_radio" value="PR"> PR
                </label>
                <label style="display: flex; align-items: center; gap: 5px;">
                    <input type="radio" name="uf_radio" value="SC"> SC
                </label>
            </div>
            <div class="hint">Radio com siglas - deve marcar estado correto baseado nos dados</div>
        </div>

    </div>

    <!-- ============================================ -->
    <!-- RESUMO E INSTRUÇÕES -->
    <!-- ============================================ -->
    <div style="background: #e8f5e9; padding: 20px; border-radius: 8px; margin-top: 30px;">
        <h3 style="margin-top: 0;">Resumo dos Testes:</h3>
        <ul>
            <li><strong>Nível 0 (HTML5 Autocomplete):</strong> 10 campos - Autocomplete padrão (nome, email, tel, empresa, etc.) </li>
            <li><strong>Nível 0.5 (Pattern & InputMode):</strong> 5 campos - Regex + tipo de teclado </li>
            <li><strong>Nível 1 (Básico):</strong> 5 campos - Deve preencher TODOS </li>
            <li><strong>Nível 2 (Médio):</strong> 5 campos - Deve preencher 80%+ </li>
            <li><strong>Nível 3 (Difícil):</strong> 8 campos - Deve preencher 75%+ </li>
            <li><strong>Nível 4 (Extremo):</strong> 10 campos - Deve IGNORAR todos (4 novos: cc-name, cc-number, new-password, username) [X] </li>
            <li><strong>Nível 5 (Endereço):</strong> 7 campos - Deve preencher TODOS </li>
            <li><strong>Nível 6 (Alternativos):</strong> 4 campos - Textarea , Select [X] </li>
            <li><strong>Nível 7 (Modernos):</strong> 3 campos - Deve preencher TODOS </li>
            <li><strong>Nível 8 (RG/Data):</strong> 4 campos - Deve preencher TODOS </li>
            <li><strong>Nível 9 (Novos Campos):</strong> 9 campos - Pessoais/Profissionais </li>
            <li><strong>Nível 10 (Especiais):</strong> 8 campos - Data separada & Selects </li>
            <li><strong>Nível 11 (Atributos Combinados):</strong> 7 campos - REALISTA com múltiplos atributos HTML5 </li>
            <li><strong>Nível 12 (Checkbox & Radio):</strong> 18 campos - NOVO! Radio buttons e checkboxes </li>
        </ul>
        <p><strong>Total:</strong> ~103 campos testados | <strong>Esperado:</strong> ~89 preenchidos + 14 ignorados</p>
    </div>

    <div style="text-align: center; margin-top: 30px; padding: 20px; background: #d4edda; border-radius: 8px;">
        <h3 style="margin-top: 0; color: #155724;">Como Testar:</h3>
        <ol style="text-align: left; display: inline-block;">
            <li>Abra esta página no Chrome (pode ser do disco local)</li>
            <li>Preencha todos os dados na extensão</li>
            <li>Clique em "Preencher Site!"</li>
            <li>Observe quais campos foram preenchidos (fundo verde)</li>
            <li>Clique no botão VALIDADOR abaixo para análise automática</li>
        </ol>
        <div style="background: #e8f5e9; padding: 15px; border-radius: 8px; margin-top: 15px; color: #856404; text-align: left;">
            <strong>[Warning] IMPORTANTE - Validação Precisa:</strong>
            <p style="margin: 10px 0;">O validador compara dados <strong>salvos na extensão</strong> vs <strong>preenchidos na página</strong>.</p>
            <p style="margin: 10px 0;"><strong>[!] Se abrir do disco (file://):</strong> Chrome Storage não funciona → validador extrai dados dos campos preenchidos → comparação errada!</p>
            <p style="margin: 10px 0;"><strong>✅ Solução (escolha 1):</strong></p>
            <ul style="margin: 5px 0;">
                <li><strong>Opção 1:</strong> No VS Code, clique-direito em teste.html → "Open with Live Server"</li>
                <li><strong>Opção 2:</strong> No terminal: <code>python -m http.server 8000</code> → abra http://localhost:8000/teste.html</li>
                <li><strong>Opção 3:</strong> Instale extensão "Web Server for Chrome" e hospede a pasta</li>
            </ul>
            <p style="margin: 10px 0; font-weight: bold;">Com servidor HTTP, o Chrome Storage funciona e a validação fica 100% precisa!</p>
        </div>
    </div>

    <!-- ============================================ -->
    <!-- CATÁLOGO DE TIPOS DE CAMPOS (APENAS VISUALIZAÇÃO) -->
    <!-- ============================================ -->
    <h2 style="margin-top: 50px;">Catálogo de Tipos de Campos HTML (Referência Visual)</h2>
    <div class="secao" style="background: #e8f5e9; border: 2px solid var(--light-green);">
        <div style="background: #fff; padding: 15px; border-radius: 8px; margin-bottom: 20px; border-left: 5px solid #ff6b6b;">
            <h3 style="margin-top: 0; color: #ff6b6b;">[Warning] ATENÇÃO - Campos Apenas para Visualização</h3>
            <p style="margin: 0; font-size: 14px;">
                <strong>Esta seção é um catálogo educacional.</strong> Os campos abaixo <strong>NÃO serão preenchidos</strong> 
                pelo autofill e servem apenas para você conhecer todos os tipos de inputs que existem em HTML e frameworks modernos.
            </p>
        </div>

        <!-- ========== HTML NATIVO - INPUT TYPES ========== -->
        <h3 style="color: var(--primary-green); border-bottom: 2px solid var(--primary-green); padding-bottom: 5px;">1. HTML Nativo - Input Types</h3>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 15px; margin-bottom: 30px;">
            
            <div class="form-group" style="background: #e7f3ff;">
                <label>type="text"</label>
                <input type="text" placeholder="Texto genérico" disabled>
                <div class="hint">Mais comum, aceita qualquer texto</div>
            </div>

            <div class="form-group" style="background: #e7f3ff;">
                <label>type="email"</label>
                <input type="email" placeholder="email@exemplo.com" disabled>
                <div class="hint">Validação de email nativa</div>
            </div>

            <div class="form-group" style="background: #e7f3ff;">
                <label>type="tel"</label>
                <input type="tel" placeholder="(00) 00000-0000" disabled>
                <div class="hint">Telefones, abre teclado numérico em mobile</div>
            </div>

            <div class="form-group" style="background: #e7f3ff;">
                <label>type="number"</label>
                <input type="number" placeholder="123" min="0" max="100" disabled>
                <div class="hint">Apenas números, com setas +/-</div>
            </div>

            <div class="form-group" style="background: #e7f3ff;">
                <label>type="date"</label>
                <input type="date" disabled>
                <div class="hint">Seletor de data nativo (ISO: YYYY-MM-DD)</div>
            </div>

            <div class="form-group" style="background: #e7f3ff;">
                <label>🕐 type="time"</label>
                <input type="time" disabled>
                <div class="hint">Seletor de hora (HH:MM)</div>
            </div>

            <div class="form-group" style="background: #e7f3ff;">
                <label>🕐 type="datetime-local"</label>
                <input type="datetime-local" disabled>
                <div class="hint">Data e hora juntos</div>
            </div>

            <div class="form-group" style="background: #e7f3ff;">
                <label>📆 type="month"</label>
                <input type="month" disabled>
                <div class="hint">Apenas mês e ano</div>
            </div>

            <div class="form-group" style="background: #e7f3ff;">
                <label>📆 type="week"</label>
                <input type="week" disabled>
                <div class="hint">Semana do ano</div>
            </div>

            <div class="form-group" style="background: #e7f3ff;">
                <label>type="url"</label>
                <input type="url" placeholder="https://exemplo.com" disabled>
                <div class="hint">URLs com validação nativa</div>
            </div>

            <div class="form-group" style="background: #e7f3ff;">
                <label>type="search"</label>
                <input type="search" placeholder="Buscar..." disabled>
                <div class="hint">Campo de busca com X para limpar</div>
            </div>

            <div class="form-group" style="background: #e7f3ff;">
                <label>🔒 type="password"</label>
                <input type="password" placeholder="••••••••" disabled>
                <div class="hint">Oculta caracteres digitados</div>
            </div>

            <div class="form-group" style="background: #e7f3ff;">
                <label>🎨 type="color"</label>
                <input type="color" value="var(--primary-green)" disabled>
                <div class="hint">Seletor de cor nativo</div>
            </div>

            <div class="form-group" style="background: #e7f3ff;">
                <label>🎚type="range" (slider)</label>
                <input type="range" min="0" max="100" value="50" disabled>
                <div class="hint">Controle deslizante para valores numéricos</div>
            </div>

            <div class="form-group" style="background: #e7f3ff;">
                <label>📁 type="file"</label>
                <input type="file" disabled>
                <div class="hint">Upload de arquivos</div>
            </div>

            <div class="form-group" style="background: #e7f3ff;">
                <label>🙈 type="hidden"</label>
                <input type="hidden" value="valor-oculto">
                <div class="hint">Campo invisível (usado para dados técnicos)</div>
            </div>

        </div>

        <!-- ========== TEXTAREA ========== -->
        <h3 style="color: var(--success-green); border-bottom: 2px solid var(--success-green); padding-bottom: 5px;">2. Textarea (Texto Multilinha)</h3>
        
        <div class="form-group" style="background: #e8f5e9;">
            <label>📄 &lt;textarea&gt;</label>
            <textarea rows="4" placeholder="Texto longo em múltiplas linhas..." disabled></textarea>
            <div class="hint">Para textos longos, comentários, descrições</div>
        </div>

        <!-- ========== SELECT ========== -->
        <h3 style="color: var(--gray-600); border-bottom: 2px solid var(--gray-600); padding-bottom: 5px;">3. Select (Dropdown / Lista Suspensa)</h3>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 15px; margin-bottom: 30px;">
            
            <div class="form-group" style="background: #ffebee;">
                <label>&lt;select&gt; Simples</label>
                <select disabled>
                    <option value="">Selecione...</option>
                    <option value="1">Opção 1</option>
                    <option value="2">Opção 2</option>
                    <option value="3">Opção 3</option>
                </select>
                <div class="hint">Lista suspensa básica</div>
            </div>

            <div class="form-group" style="background: #ffebee;">
                <label>&lt;select multiple&gt;</label>
                <select multiple size="4" disabled>
                    <option value="1">Item 1</option>
                    <option value="2">Item 2</option>
                    <option value="3">Item 3</option>
                    <option value="4">Item 4</option>
                </select>
                <div class="hint">Seleção múltipla (Ctrl+Click)</div>
            </div>

            <div class="form-group" style="background: #ffebee;">
                <label>&lt;select&gt; com &lt;optgroup&gt;</label>
                <select disabled>
                    <optgroup label="Grupo 1">
                        <option>Item 1.1</option>
                        <option>Item 1.2</option>
                    </optgroup>
                    <optgroup label="Grupo 2">
                        <option>Item 2.1</option>
                        <option>Item 2.2</option>
                    </optgroup>
                </select>
                <div class="hint">Dropdown com grupos</div>
            </div>

        </div>

        <!-- ========== CHECKBOXES E RADIOS ========== -->
        <h3 style="color: #ff9800; border-bottom: 2px solid #ff9800; padding-bottom: 5px;">4. Checkboxes e Radio Buttons</h3>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 15px; margin-bottom: 30px;">
            
            <div class="form-group" style="background: #fff3e0;">
                <label>type="checkbox"</label>
                <div style="display: flex; flex-direction: column; gap: 10px;">
                    <label style="display: flex; align-items: center; gap: 8px; font-weight: normal;">
                        <input type="checkbox" disabled> Opção 1
                    </label>
                    <label style="display: flex; align-items: center; gap: 8px; font-weight: normal;">
                        <input type="checkbox" disabled checked> Opção 2 (marcada)
                    </label>
                    <label style="display: flex; align-items: center; gap: 8px; font-weight: normal;">
                        <input type="checkbox" disabled> Opção 3
                    </label>
                </div>
                <div class="hint">Múltiplas seleções independentes</div>
            </div>

            <div class="form-group" style="background: #fff3e0;">
                <label>🔘 type="radio"</label>
                <div style="display: flex; flex-direction: column; gap: 10px;">
                    <label style="display: flex; align-items: center; gap: 8px; font-weight: normal;">
                        <input type="radio" name="exemplo_radio" disabled checked> Opção A
                    </label>
                    <label style="display: flex; align-items: center; gap: 8px; font-weight: normal;">
                        <input type="radio" name="exemplo_radio" disabled> Opção B
                    </label>
                    <label style="display: flex; align-items: center; gap: 8px; font-weight: normal;">
                        <input type="radio" name="exemplo_radio" disabled> Opção C
                    </label>
                </div>
                <div class="hint">Apenas uma opção pode ser selecionada</div>
            </div>

        </div>

        <!-- ========== DATALIST ========== -->
        <h3 style="color: #9c27b0; border-bottom: 2px solid #9c27b0; padding-bottom: 5px;">5. Datalist (Autocomplete Nativo)</h3>
        
        <div class="form-group" style="background: #f3e5f5;">
            <label>&lt;input&gt; + &lt;datalist&gt;</label>
            <input list="sugestoes_exemplo" placeholder="Digite ou selecione..." disabled>
            <datalist id="sugestoes_exemplo">
                <option value="São Paulo">
                <option value="Rio de Janeiro">
                <option value="Belo Horizonte">
                <option value="Curitiba">
                <option value="Porto Alegre">
            </datalist>
            <div class="hint">Input com sugestões nativas (dropdown aparece ao digitar)</div>
        </div>

        <!-- ========== CONTENTEDITABLE ========== -->
        <h3 style="color: #00bcd4; border-bottom: 2px solid #00bcd4; padding-bottom: 5px;">6. ContentEditable (Div como Input)</h3>
        
        <div class="form-group" style="background: #e0f7fa;">
            <label>✏contenteditable="true"</label>
            <div contenteditable="true" style="border: 2px dashed #00bcd4; padding: 15px; min-height: 80px; background: white; border-radius: 5px;">
                Este é um DIV editável. Você pode clicar e digitar aqui como se fosse um textarea. 
                Usado em editores ricos (rich text editors).
            </div>
            <div class="hint">Qualquer elemento pode virar editável com contenteditable="true"</div>
        </div>

        <!-- ========== BOTÕES ========== -->
        <h3 style="color: #607d8b; border-bottom: 2px solid #607d8b; padding-bottom: 5px;">⚪ 7. Botões (Não são inputs, mas fazem parte de forms)</h3>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 30px;">
            
            <div class="form-group" style="background: #eceff1;">
                <label>🔘 &lt;button&gt;</label>
                <button type="button" disabled>Clique Aqui</button>
                <div class="hint">Botão customizável</div>
            </div>

            <div class="form-group" style="background: #eceff1;">
                <label>✅ type="submit"</label>
                <input type="submit" value="Enviar" disabled>
                <div class="hint">Envia formulário</div>
            </div>

            <div class="form-group" style="background: #eceff1;">
                <label>type="reset"</label>
                <input type="reset" value="Limpar" disabled>
                <div class="hint">Limpa formulário</div>
            </div>

            <div class="form-group" style="background: #eceff1;">
                <label>🖱type="button"</label>
                <input type="button" value="Ação" disabled>
                <div class="hint">Botão genérico</div>
            </div>

        </div>

        <!-- ========== CAMPOS MODERNOS/FRAMEWORKS ========== -->
        <h3 style="color: #e91e63; border-bottom: 2px solid #e91e63; padding-bottom: 5px;">🌟 8. Campos de Frameworks Modernos</h3>
        
        <div style="background: #fce4ec; padding: 20px; border-radius: 8px; border: 2px dashed #e91e63;">
            <h4 style="margin-top: 0;">📦 Bibliotecas Populares (renderizam HTML nativo):</h4>
            <ul style="line-height: 2;">
                <li><strong>Material-UI:</strong> <code>&lt;TextField&gt;</code> → renderiza <code>&lt;input&gt;</code></li>
                <li><strong>Ant Design:</strong> <code>&lt;Input&gt;</code> → renderiza <code>&lt;input&gt;</code></li>
                <li><strong>Bootstrap:</strong> <code>&lt;input class="form-control"&gt;</code></li>
                <li><strong>Chakra UI:</strong> <code>&lt;Input&gt;</code> → renderiza <code>&lt;input&gt;</code></li>
                <li><strong>Vuetify:</strong> <code>&lt;v-text-field&gt;</code> → renderiza <code>&lt;input&gt;</code></li>
                <li><strong>Angular Material:</strong> <code>&lt;mat-input&gt;</code> → renderiza <code>&lt;input&gt;</code></li>
            </ul>
            <p style="margin: 15px 0; padding: 10px; background: #fff; border-left: 4px solid #4caf50; border-radius: 4px;">
                <strong>✅ Boa Notícia:</strong> 90% dos frameworks modernos usam <code>&lt;input&gt;</code>, <code>&lt;textarea&gt;</code> 
                e <code>&lt;select&gt;</code> por baixo! Seu autofill já funciona com eles.
            </p>
        </div>

        <div style="background: #e8f5e9; padding: 20px; border-radius: 8px; border: 2px dashed var(--light-green); margin-top: 20px;">
            <h4 style="margin-top: 0;">🔬 Casos Especiais (requerem lógica adicional):</h4>
            <ul style="line-height: 2;">
                <li><strong>Shadow DOM:</strong> Web Components com <code>shadowRoot</code></li>
                <li><strong>Iframes:</strong> Formulários em frames separados</li>
                <li><strong>Date Pickers:</strong> Flatpickr, react-datepicker (têm APIs próprias)</li>
                <li><strong>Rich Text Editors:</strong> TinyMCE, Quill, CKEditor</li>
                <li><strong>Masked Inputs:</strong> cleave.js, react-input-mask</li>
                <li><strong>Autocomplete:</strong> Select2, react-select, vue-select</li>
            </ul>
        </div>

        <!-- ========== RESUMO FINAL ========== -->
        <div style="background: var(--primary-green); color: white; padding: 20px; border-radius: 8px; margin-top: 30px;">
            <h3 style="margin-top: 0; text-align: center;">Resumo da Compatibilidade</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                <div>
                    <h4> Totalmente Suportado:</h4>
                    <ul>
                        <li>Input (text, email, tel, date, number)</li>
                        <li>Textarea</li>
                        <li>Select (dropdown simples)</li>
                        <li>Frameworks (React, Vue, Angular)</li>
                    </ul>
                </div>
                <div>
                    <h4>Em Desenvolvimento:</h4>
                    <ul>
                        <li>ContentEditable</li>
                        <li>Shadow DOM</li>
                        <li>Iframes</li>
                        <li>Date Pickers customizados</li>
                    </ul>
                </div>
            </div>
            <p style="text-align: center; margin-top: 20px; font-size: 14px; color: var(--gray-600);">
                Este catálogo é para fins educacionais. Estes campos <strong>não são preenchidos</strong> por algoritmos de autofill.
            </p>
        </div>

    </div>



    <script>
        // ============================================
        // VARIÁVEIS GLOBAIS
        // ============================================
        let resultadoAtual = null;
        let consoleLogs = [];
        
        // ============================================
        // CAPTURA DE LOGS DO CONSOLE
        // ============================================
        (function() {
            const originalLog = console.log;
            const originalWarn = console.warn;
            const originalError = console.error;
            const originalInfo = console.info;
            
            console.log = function(...args) {
                consoleLogs.push({
                    tipo: 'LOG',
                    timestamp: new Date().toLocaleTimeString('pt-BR'),
                    mensagem: args.map(arg => typeof arg === 'object' ? JSON.stringify(arg, null, 2) : String(arg)).join(' ')
                });
                originalLog.apply(console, args);
            };
            
            console.warn = function(...args) {
                consoleLogs.push({
                    tipo: 'WARN',
                    timestamp: new Date().toLocaleTimeString('pt-BR'),
                    mensagem: args.map(arg => typeof arg === 'object' ? JSON.stringify(arg, null, 2) : String(arg)).join(' ')
                });
                originalWarn.apply(console, args);
            };
            
            console.error = function(...args) {
                consoleLogs.push({
                    tipo: 'ERROR',
                    timestamp: new Date().toLocaleTimeString('pt-BR'),
                    mensagem: args.map(arg => typeof arg === 'object' ? JSON.stringify(arg, null, 2) : String(arg)).join(' ')
                });
                originalError.apply(console, args);
            };
            
            console.info = function(...args) {
                consoleLogs.push({
                    tipo: 'INFO',
                    timestamp: new Date().toLocaleTimeString('pt-BR'),
                    mensagem: args.map(arg => typeof arg === 'object' ? JSON.stringify(arg, null, 2) : String(arg)).join(' ')
                });
                originalInfo.apply(console, args);
            };
        })();

        // ============================================
        // VALIDATION ENGINE
        // ============================================
        document.getElementById('btnValidar').addEventListener('click', async function() {
            const btn = this;
            btn.innerText = 'Validando...';
            btn.disabled = true;

            // Wait 500ms to ensure fields are filled
            await new Promise(resolve => setTimeout(resolve, 500));

            // Verifica se o Chrome Storage está disponível
            if (typeof chrome !== 'undefined' && chrome.storage) {
                // Busca os dados salvos no Chrome Storage
                chrome.storage.local.get([
                    'usuario_nome', 'usuario_dataNascimento', 'usuario_cpf', 'usuario_rg',
                    'usuario_email', 'usuario_emailSecundario', 'usuario_telefone', 
                    'usuario_telefoneComercial', 'usuario_nomeEmergencia', 'usuario_telefoneEmergencia',
                    'usuario_genero', 'usuario_estadoCivil', 'usuario_nomeMae', 'usuario_nomePai',
                    'usuario_profissao', 'usuario_nomeEmpresa', 'usuario_escolaridade',
                    'usuario_cep', 'usuario_rua', 'usuario_numero', 'usuario_complemento', 
                    'usuario_bairro', 'usuario_cidade', 'usuario_estado'
                ], function(dadosSalvos) {
                    console.log('✅ Dados carregados do Chrome Storage:', dadosSalvos);
                    resultadoAtual = validarPreenchimento(dadosSalvos);
                    exibirResultado(resultadoAtual);
                    btn.innerText = 'Validar Novamente';
                    btn.disabled = false;
                    document.getElementById('btnCopiar').style.display = 'block';
                });
            } else {
                // Extrai dados diretamente dos campos preenchidos na página
                console.log('Chrome Storage não disponível. Extraindo dados dos campos preenchidos.');
                
                // Busca todos os inputs preenchidos
                const todosInputs = document.querySelectorAll('input[type="text"], input[type="email"], input[type="tel"], input[type="date"], textarea');
                
                let dadosExtraidos = {
                    usuario_nome: '',
                    usuario_dataNascimento: '',
                    usuario_cpf: '',
                    usuario_rg: '',
                    usuario_email: '',
                    usuario_telefone: '',
                    usuario_cep: '',
                    usuario_rua: '',
                    usuario_numero: '',
                    usuario_complemento: '',
                    usuario_bairro: '',
                    usuario_cidade: '',
                    usuario_estado: ''
                };
                
                // Arrays para armazenar valores encontrados
                let nomes = [];
                let ruas = [];
                let cidades = [];
                let bairros = [];
                let complementos = [];
                
                todosInputs.forEach(input => {
                    const valor = input.value.trim();
                    if (!valor) return;
                    
                    // DETECÇÃO POR PADRÃO (mais confiável)
                    if (valor.includes('@') && !dadosExtraidos.usuario_email) {
                        dadosExtraidos.usuario_email = valor;
                    } else if (/^\d{3}\.\d{3}\.\d{3}-\d{2}$/.test(valor) && !dadosExtraidos.usuario_cpf) {
                        dadosExtraidos.usuario_cpf = valor;
                    } else if (/^\(\d{2}\)\s?\d{4,5}-\d{4}$/.test(valor) && !dadosExtraidos.usuario_telefone) {
                        dadosExtraidos.usuario_telefone = valor;
                    } else if (/^\d{5}-\d{3}$/.test(valor) && !dadosExtraidos.usuario_cep) {
                        dadosExtraidos.usuario_cep = valor;
                    } else if (/^\d{2}\/\d{2}\/\d{4}$/.test(valor) && !dadosExtraidos.usuario_dataNascimento) {
                        dadosExtraidos.usuario_dataNascimento = valor;
                    } else if (/^\d{4}-\d{2}-\d{2}$/.test(valor) && !dadosExtraidos.usuario_dataNascimento) {
                        const partes = valor.split('-');
                        dadosExtraidos.usuario_dataNascimento = `${partes[2]}/${partes[1]}/${partes[0]}`;
                    } else if (/^[A-Z]{2}$/.test(valor) && !dadosExtraidos.usuario_estado) {
                        dadosExtraidos.usuario_estado = valor;
                    } else if (/^\d+$/.test(valor) && valor.length >= 1 && valor.length <= 6 && !dadosExtraidos.usuario_numero) {
                        dadosExtraidos.usuario_numero = valor;
                    } else if (/^\d{2}\.\d{3}\.\d{3}-\d$/.test(valor) && !dadosExtraidos.usuario_rg) {
                        dadosExtraidos.usuario_rg = valor;
                    } else if (/^\d{10}$/.test(valor) && !dadosExtraidos.usuario_rg) {
                        dadosExtraidos.usuario_rg = valor;
                    }
                    
                    // DETECÇÃO POR CONTEXTO (ID/Name do input)
                    const id = (input.id || '').toLowerCase();
                    const name = (input.name || '').toLowerCase();
                    const pistas = id + ' ' + name;
                    
                    // Detecta NOME PRINCIPAL (prioriza campos sem "mae", "pai", "emergencia")
                    if ((pistas.includes('nome') || pistas.includes('name')) && 
                        !pistas.includes('usuario') && !pistas.includes('login') &&
                        !pistas.includes('mae') && !pistas.includes('pai') && 
                        !pistas.includes('emergencia') && !pistas.includes('empresa') &&
                        valor.includes(' ') && valor.length > 5) {
                        // Prioriza "nome_completo", "fullname", "nome"
                        const prioridade = pistas.includes('completo') || pistas.includes('full') ? 100 : 50;
                        nomes.push({ valor, prioridade });
                    } else if ((pistas.includes('rua') || pistas.includes('logradouro') || pistas.includes('street') || pistas.includes('address')) &&
                              !pistas.includes('num') && !pistas.includes('cidade') && !pistas.includes('city') && valor.length > 5) {
                        ruas.push(valor);
                    } else if ((pistas.includes('cidade') || pistas.includes('city') || pistas.includes('municipio') || pistas.includes('locality') || pistas.includes('town')) &&
                              !pistas.includes('rua') && !pistas.includes('street') && !pistas.includes('address') &&
                              valor.length > 3 && !valor.match(/^\d/) && !valor.includes('@') && !valor.includes(',')) {
                        cidades.push(valor);
                    } else if ((pistas.includes('bairro') || pistas.includes('neighborhood') || pistas.includes('district')) &&
                              valor.length > 3) {
                        bairros.push(valor);
                    } else if ((pistas.includes('complemento') || pistas.includes('compl') || pistas.includes('apt')) &&
                              valor.length > 2) {
                        complementos.push(valor);
                    }
                });
                
                // Escolhe os valores mais prováveis
                if (nomes.length > 0) {
                    // Ordena por prioridade (campos "completo"/"full" primeiro) e depois por tamanho
                    nomes.sort((a, b) => {
                        if (a.prioridade !== b.prioridade) return b.prioridade - a.prioridade;
                        return b.valor.length - a.valor.length;
                    });
                    dadosExtraidos.usuario_nome = nomes[0].valor;
                }
                
                if (ruas.length > 0) {
                    // Pega a rua mais longa (endereço completo > rua simples)
                    dadosExtraidos.usuario_rua = ruas.reduce((a, b) => a.length > b.length ? a : b);
                    
                    // Remove da lista de cidades caso tenha sido detectada errado
                    cidades = cidades.filter(c => c !== dadosExtraidos.usuario_rua);
                }
                
                if (cidades.length > 0) {
                    // Pega a cidade mais curta (evita endereços completos) e sem vírgula
                    const cidadesValidas = cidades.filter(c => !c.includes(',') && c.length < 50);
                    if (cidadesValidas.length > 0) {
                        dadosExtraidos.usuario_cidade = cidadesValidas.sort((a, b) => a.length - b.length)[0];
                    }
                }
                
                if (bairros.length > 0) {
                    dadosExtraidos.usuario_bairro = bairros[0];
                }
                
                if (complementos.length > 0) {
                    dadosExtraidos.usuario_complemento = complementos[0];
                }
                
                console.warn('[Warning] Data extracted from filled fields (Chrome Storage unavailable):', dadosExtraidos);
                
                alert('[Warning] Chrome Storage não disponível!\n\n' +
                      'O validador está usando dados EXTRAÍDOS dos campos preenchidos, ' +
                      'não os dados salvos na extensão.\n\n' +
                      'Para validação precisa:\n' +
                      '1. Abra esta página via servidor HTTP (Live Server, python -m http.server), OR\n' +
                      '2. Carregue como extensão temporária no Chrome');
                
                resultadoAtual = validarPreenchimento(dadosExtraidos);
                exibirResultado(resultadoAtual);
                btn.innerText = 'Validar Novamente';
                btn.disabled = false;
                document.getElementById('btnCopiar').style.display = 'block';
            }
        });

        // ============================================
        // BOTÃO Copiar Resultado
        // ============================================
        document.getElementById('btnCopiar').addEventListener('click', function() {
            const btn = this;
            
            if (!resultadoAtual) {
                alert('[!] Nenhum resultado para copiar. Execute a validação primeiro.');
                return;
            }

            // Calcula estatísticas
            const totalErrosRelatorio = resultadoAtual.incorretos.length + resultadoAtual.naoPreenchidos.length + resultadoAtual.falsoPositivo.length;
            const taxaAcerto = resultadoAtual.total > 0 ? 
                ((resultadoAtual.acertos / resultadoAtual.total) * 100).toFixed(1) : 0;

            // Monta o texto formatado
            let texto = '═══════════════════════════════════════\n';
            texto += 'RELATÓRIO DE VALIDAÇÃO - AUTOFILL\n';
            texto += '═══════════════════════════════════════\n\n';
            texto += 'ESTATÍSTICAS:\n';
            texto += `✅ Acertos: ${resultadoAtual.acertos}\n`;
            texto += `[!] Erros: ${totalErrosRelatorio}\n`;
            texto += `   • Incorretos: ${resultadoAtual.incorretos.length}\n`;
            texto += `   • Não Preenchidos (com dados): ${resultadoAtual.naoPreenchidos.length}\n`;
            texto += `   • Falsos Positivos: ${resultadoAtual.falsoPositivo.length}\n`;
            texto += `[Warning] Sem Dados Salvos: ${resultadoAtual.naoPreenchidosSemDados.length} (não afeta accuracy)\n`;
            texto += `Accuracy: ${taxaAcerto}%\n`;
            texto += `Total Relevante: ${resultadoAtual.total}\n\n`;
            texto += '═══════════════════════════════════════\n\n';

            // Campos Corretos
            if (resultadoAtual.corretos.length > 0) {
                texto += `✅ CAMPOS CORRETOS (${resultadoAtual.corretos.length})\n`;
                texto += '─────────────────────────────────────\n';
                resultadoAtual.corretos.forEach(item => {
                    texto += `• ${item.campo} (${item.tipo}) - Nível ${item.nivel} → "${item.valor}"\n`;
                });
                texto += '\n';
            }

            // Campos Incorretos
            if (resultadoAtual.incorretos.length > 0) {
                texto += `[!] CAMPOS INCORRETOS (${resultadoAtual.incorretos.length})\n`;
                texto += '─────────────────────────────────────\n';
                resultadoAtual.incorretos.forEach(item => {
                    texto += `• ${item.campo} (${item.tipo}) - Nível ${item.nivel}\n`;
                    texto += `  Esperado: "${item.esperado}"\n`;
                    texto += `  Obtido: "${item.obtido}"\n\n`;
                });
            }

            // Não Preenchidos (COM DADOS) - ERRO
            if (resultadoAtual.naoPreenchidos.length > 0) {
                texto += `🚫 NÃO PREENCHIDOS (COM dados) - ERRO (${resultadoAtual.naoPreenchidos.length})\n`;
                texto += '─────────────────────────────────────\n';
                resultadoAtual.naoPreenchidos.forEach(item => {
                    texto += `• ${item.campo} (${item.tipo}) - Nível ${item.nivel} → Deveria ser: "${item.esperado}"\n`;
                });
                texto += '\n';
            }

            // Não Preenchidos (SEM DADOS) - AVISO
            if (resultadoAtual.naoPreenchidosSemDados.length > 0) {
                texto += `[Warning] NÃO PREENCHIDOS (SEM dados) - AVISO (${resultadoAtual.naoPreenchidosSemDados.length})\n`;
                texto += '─────────────────────────────────────\n';
                texto += 'ℹNão afeta a accuracy - campos sem dados salvos na extensão\n\n';
                resultadoAtual.naoPreenchidosSemDados.forEach(item => {
                    texto += `• ${item.campo} (${item.tipo}) - Nível ${item.nivel}\n`;
                });
                texto += '\n';
            }

            // Ignorados Corretamente
            if (resultadoAtual.ignoradosCorreto.length > 0) {
                texto += `🛡IGNORADOS CORRETAMENTE (${resultadoAtual.ignoradosCorreto.length})\n`;
                texto += '─────────────────────────────────────\n';
                resultadoAtual.ignoradosCorreto.forEach(item => {
                    texto += `• ${item.campo} - ${item.motivo}\n`;
                });
                texto += '\n';
            }

            // Falsos Positivos
            if (resultadoAtual.falsoPositivo.length > 0) {
                texto += `🚨 FALSOS POSITIVOS (${resultadoAtual.falsoPositivo.length})\n`;
                texto += '─────────────────────────────────────\n';
                resultadoAtual.falsoPositivo.forEach(item => {
                    texto += `• ${item.campo} - ${item.motivo}\n`;
                    texto += `  Preencheu indevidamente: "${item.valor}"\n\n`;
                });
            }

            texto += '═══════════════════════════════════════\n';
            texto += `Gerado em: ${new Date().toLocaleString('pt-BR')}\n`;
            texto += '═══════════════════════════════════════\n';

            // Copia para a área de transferência
            navigator.clipboard.writeText(texto).then(() => {
                const originalText = btn.innerText;
                const originalBg = btn.style.background;
                btn.innerText = 'Copiado!';
                btn.style.background = 'var(--success-green)';
                
                setTimeout(() => {
                    btn.innerText = originalText;
                    btn.style.background = originalBg;
                }, 2000);
            }).catch((err) => {
                console.error('Erro ao copiar:', err);
                // Fallback: cria textarea temporário
                const textarea = document.createElement('textarea');
                textarea.value = texto;
                textarea.style.position = 'fixed';
                textarea.style.opacity = '0';
                document.body.appendChild(textarea);
                textarea.select();
                try {
                    document.execCommand('copy');
                    btn.innerText = 'Copiado!';
                    btn.style.background = 'var(--success-green)';
                    setTimeout(() => {
                        btn.innerText = 'Copiar Resultado';
                        btn.style.background = 'var(--primary-green)';
                    }, 2000);
                } catch (err2) {
                    alert('[!] Erro ao copiar. Please copie manualmente da tela.');
                }
                document.body.removeChild(textarea);
            });
        });

        // ============================================
        // BOTÃO COPIAR LOGS DO CONSOLE
        // ============================================
        document.getElementById('btnCopiarLogs').addEventListener('click', function() {
            const btn = this;
            
            if (consoleLogs.length === 0) {
                alert('[Warning] Nenhum log capturado ainda. Execute o autofill primeiro!');
                return;
            }
            
            // Monta o texto formatado dos logs
            let textoLogs = '═══════════════════════════════════════\n';
            textoLogs += 'LOGS DO CONSOLE - AUTOFILL DEBUG\n';
            textoLogs += '═══════════════════════════════════════\n\n';
            textoLogs += `Total de Logs: ${consoleLogs.length}\n`;
            textoLogs += `Capturados em: ${new Date().toLocaleString('pt-BR')}\n\n`;
            textoLogs += '═══════════════════════════════════════\n\n';
            
            // Agrupa logs por tipo
            const logsPorTipo = {
                LOG: consoleLogs.filter(l => l.tipo === 'LOG'),
                INFO: consoleLogs.filter(l => l.tipo === 'INFO'),
                WARN: consoleLogs.filter(l => l.tipo === 'WARN'),
                ERROR: consoleLogs.filter(l => l.tipo === 'ERROR')
            };
            
            // Exibe estatísticas
            textoLogs += '📈 ESTATÍSTICAS POR TIPO:\n';
            textoLogs += `   Logs: ${logsPorTipo.LOG.length}\n`;
            textoLogs += `   ℹInfo: ${logsPorTipo.INFO.length}\n`;
            textoLogs += `   [Warning] Warnings: ${logsPorTipo.WARN.length}\n`;
            textoLogs += `   [!] Errors: ${logsPorTipo.ERROR.length}\n\n`;
            textoLogs += '═══════════════════════════════════════\n\n';
            
            // Lista todos os logs em ordem cronológica
            textoLogs += 'LOGS COMPLETOS:\n';
            textoLogs += '─────────────────────────────────────\n\n';
            
            consoleLogs.forEach((log, index) => {
                const emoji = {
                    'LOG': '',
                    'INFO': 'ℹ',
                    'WARN': '[Warning] ',
                    'ERROR': '[!] '
                }[log.tipo] || '';
                
                textoLogs += `${emoji} [${log.tipo}] ${log.timestamp}\n`;
                textoLogs += `${log.mensagem}\n`;
                textoLogs += '─────────────────────────────────────\n\n';
            });
            
            textoLogs += '═══════════════════════════════════════\n';
            textoLogs += `Relatório gerado em: ${new Date().toLocaleString('pt-BR')}\n`;
            textoLogs += '═══════════════════════════════════════\n';
            
            // Copia para a área de transferência
            navigator.clipboard.writeText(textoLogs).then(() => {
                const originalText = btn.innerText;
                const originalBg = btn.style.background;
                btn.innerText = 'Logs Copiado!';
                btn.style.background = 'var(--success-green)';
                
                setTimeout(() => {
                    btn.innerText = originalText;
                    btn.style.background = originalBg;
                }, 2000);
            }).catch((err) => {
                console.error('Erro ao copiar logs:', err);
                // Fallback
                const textarea = document.createElement('textarea');
                textarea.value = textoLogs;
                textarea.style.position = 'fixed';
                textarea.style.opacity = '0';
                document.body.appendChild(textarea);
                textarea.select();
                try {
                    document.execCommand('copy');
                    btn.innerText = 'Logs Copiado!';
                    btn.style.background = 'var(--success-green)';
                    setTimeout(() => {
                        btn.innerText = 'COPIAR LOGS';
                        btn.style.background = '#6f42c1';
                    }, 2000);
                } catch (err2) {
                    alert('[!] Erro ao copiar logs. Verifique o console manualmente.');
                }
                document.body.removeChild(textarea);
            });
        });

        function validarPreenchimento(dadosSalvos) {
            const resultados = {
                corretos: [],
                incorretos: [],
                naoPreenchidos: [],
                naoPreenchidosSemDados: [], // NOVO: Campos vazios porque não há dados salvos (não afeta accuracy)
                ignoradosCorreto: [],
                falsoPositivo: [],
                total: 0,
                preenchidos: 0,
                acertos: 0
            };

            // Mapeia os dados salvos
            const mapa = {
                nome: dadosSalvos.usuario_nome || '',
                dataNascimento: dadosSalvos.usuario_dataNascimento || '',
                cpf: dadosSalvos.usuario_cpf || '',
                rg: dadosSalvos.usuario_rg || '',
                email: dadosSalvos.usuario_email || '',
                telefone: dadosSalvos.usuario_telefone || '',
                cep: dadosSalvos.usuario_cep || '',
                rua: dadosSalvos.usuario_rua || '',
                numero: dadosSalvos.usuario_numero || '',
                complemento: dadosSalvos.usuario_complemento || '',
                bairro: dadosSalvos.usuario_bairro || '',
                cidade: dadosSalvos.usuario_cidade || '',
                estado: dadosSalvos.usuario_estado || ''
            };

            // Converte data DD/MM/YYYY para YYYY-MM-DD (formato ISO)
            const dataISO = mapa.dataNascimento ? mapa.dataNascimento.split('/').reverse().join('-') : '';

            // Define quais campos devem ser preenchidos e quais devem ser ignorados
            const camposParaValidar = [
                // NÍVEL 1 - BÁSICOS
                { id: 'nome_completo', esperado: mapa.nome, tipo: 'nome', nivel: 1 },
                { id: 'email', esperado: mapa.email, tipo: 'email', nivel: 1 },
                { id: 'cpf', esperado: mapa.cpf, tipo: 'cpf', nivel: 1 },
                { id: 'telefone', esperado: mapa.telefone, tipo: 'telefone', nivel: 1 },
                { id: 'data_nascimento', esperado: dataISO, tipo: 'data', nivel: 1 },

                // NÍVEL 2 - MÉDIOS
                { id: 'campo_aleatorio_123', esperado: mapa.email, tipo: 'email', nivel: 2 },
                { name: 'data_field_02', esperado: mapa.cpf, tipo: 'cpf', nivel: 2 },
                { name: 'n', esperado: mapa.nome, tipo: 'nome', nivel: 2 },
                { name: 'contact_info', esperado: mapa.telefone, tipo: 'telefone', nivel: 2 },
                { name: 'addr_zip', esperado: mapa.cep, tipo: 'cep', nivel: 2 },

                // NÍVEL 3 - DIFÍCEIS
                { id: 'fullname_en', esperado: mapa.nome, tipo: 'nome', nivel: 3 },
                { id: 'correo', esperado: mapa.email, tipo: 'email', nivel: 3 },
                { id: 'dni', esperado: mapa.cpf, tipo: 'cpf', nivel: 3 },
                { name: 'dob', esperado: mapa.dataNascimento, tipo: 'data', nivel: 3 },
                { id: 'tel_movil', esperado: mapa.telefone, tipo: 'telefone', nivel: 3 },
                { name: 'address_line1', esperado: mapa.rua, tipo: 'rua', nivel: 3 },
                { name: 'locality', esperado: mapa.cidade, tipo: 'cidade', nivel: 3 },
                { name: 'region', esperado: mapa.estado, tipo: 'estado', nivel: 3 },

                // NÍVEL 5 - ENDEREÇO
                { id: 'cep_entrega', esperado: mapa.cep, tipo: 'cep', nivel: 5 },
                { id: 'logradouro', esperado: mapa.rua, tipo: 'rua', nivel: 5 },
                { id: 'num_endereco', esperado: mapa.numero, tipo: 'numero', nivel: 5 },
                { id: 'compl', esperado: mapa.complemento, tipo: 'complemento', nivel: 5 },
                { id: 'bairro_regiao', esperado: mapa.bairro, tipo: 'bairro', nivel: 5 },
                { id: 'municipio', esperado: mapa.cidade, tipo: 'cidade', nivel: 5 },
                { id: 'uf', esperado: mapa.estado, tipo: 'estado', nivel: 5 },

                // NÍVEL 7 - MODERNOS
                { name: 'react_field_1', esperado: mapa.nome, tipo: 'nome', nivel: 7 },
                { name: 'vue_email', esperado: mapa.email, tipo: 'email', nivel: 7 },
                { name: 'dynamic_cep', esperado: mapa.cep, tipo: 'cep', nivel: 7 },

                // NÍVEL 8 - RG e DATA
                { id: 'rg_field', esperado: mapa.rg, tipo: 'rg', nivel: 8 },
                { id: 'id_card', esperado: mapa.rg, tipo: 'rg', nivel: 8 },
                { id: 'nascimento_texto', esperado: mapa.dataNascimento, tipo: 'data', nivel: 8 },
                { id: 'aniversario', esperado: mapa.dataNascimento, tipo: 'data', nivel: 8 }
            ];

            // Campos que DEVEM ser ignorados
            const camposProibidos = [
                { id: 'username_login', motivo: 'Campo de login' },
                { id: 'password', motivo: 'Campo de senha' },
                { id: 'cnpj_empresa', motivo: 'CNPJ (não temos)' },
                { id: 'numero_cartao', motivo: 'Cartão de crédito' },
                { name: 'product_name', motivo: 'Nome de produto' },
                { name: 'q', motivo: 'Campo de busca' }
            ];

            // Valida campos que devem ser preenchidos
            camposParaValidar.forEach(campo => {
                let elemento = campo.id ? document.getElementById(campo.id) : document.querySelector(`[name="${campo.name}"]`);
                
                if (elemento) {
                    const valorPreenchido = elemento.value.trim();
                    const valorEsperado = campo.esperado.trim();
                    
                    // CASO 1: Campo foi preenchido
                    if (valorPreenchido !== '') {
                        resultados.preenchidos++;
                        
                        // Verifica se está correto
                        if (valorPreenchido === valorEsperado || 
                            compararValoresSimilares(valorPreenchido, valorEsperado, campo.tipo)) {
                            // ✅ ACERTO: Preencheu corretamente
                            resultados.total++;
                            resultados.acertos++;
                            resultados.corretos.push({
                                campo: campo.id || campo.name,
                                tipo: campo.tipo,
                                nivel: campo.nivel,
                                valor: valorPreenchido
                            });
                        } else {
                            // [!] ERRO: Preencheu errado
                            resultados.total++;
                            resultados.incorretos.push({
                                campo: campo.id || campo.name,
                                tipo: campo.tipo,
                                nivel: campo.nivel,
                                esperado: valorEsperado,
                                obtido: valorPreenchido
                            });
                        }
                    } 
                    // CASO 2: Campo NÃO foi preenchido
                    else {
                        // Verifica se há dados salvos para este campo
                        if (valorEsperado !== '') {
                            // 🚫 ERRO: Não preencheu APESAR de ter dados salvos
                            resultados.total++;
                            resultados.naoPreenchidos.push({
                                campo: campo.id || campo.name,
                                tipo: campo.tipo,
                                nivel: campo.nivel,
                                esperado: valorEsperado
                            });
                        } else {
                            // [Warning] AVISO: Não preencheu porque NÃO há dados salvos (não conta na accuracy)
                            resultados.naoPreenchidosSemDados.push({
                                campo: campo.id || campo.name,
                                tipo: campo.tipo,
                                nivel: campo.nivel
                            });
                        }
                    }
                }
            });

            // Valida campos que devem ser IGNORADOS
            camposProibidos.forEach(campo => {
                let elemento = campo.id ? document.getElementById(campo.id) : document.querySelector(`[name="${campo.name}"]`);
                
                if (elemento) {
                    const valorPreenchido = elemento.value.trim();
                    
                    if (valorPreenchido === '') {
                        // ✅ ACERTO: Ignorou corretamente
                        resultados.total++;
                        resultados.acertos++;
                        resultados.ignoradosCorreto.push({
                            campo: campo.id || campo.name,
                            motivo: campo.motivo
                        });
                    } else {
                        // [!] ERRO: Falso positivo (preencheu campo proibido)
                        resultados.total++;
                        resultados.falsoPositivo.push({
                            campo: campo.id || campo.name,
                            motivo: campo.motivo,
                            valor: valorPreenchido
                        });
                    }
                }
            });

            return resultados;
        }

        function compararValoresSimilares(valor1, valor2, tipo) {
            // Remove formatações para comparar apenas os dados
            const limpar = (str) => str.replace(/[.\-/() ]/g, '').toLowerCase();
            
            const v1Limpo = limpar(valor1);
            const v2Limpo = limpar(valor2);
            
            // Se os valores limpos são iguais, considera correto
            if (v1Limpo === v2Limpo) return true;
            
            // Para RUA: aceita tanto rua sozinha quanto endereço completo
            // Ex: "Rua X" == "Rua X, 123 - Apto 45"
            if (tipo === 'rua') {
                // Se valor esperado (rua sozinha) está contido no valor obtido (endereço completo)
                if (valor1.toLowerCase().includes(valor2.toLowerCase()) || 
                    valor2.toLowerCase().includes(valor1.toLowerCase())) {
                    return true;
                }
            }
            
            // Para datas, aceita vários formatos
            if (tipo === 'data') {
                // Extrai apenas números
                const nums1 = valor1.replace(/\D/g, '');
                const nums2 = valor2.replace(/\D/g, '');
                return nums1 === nums2;
            }
            
            return false;
        }

        function exibirResultado(resultado) {
            const container = document.getElementById('resultadoValidacao');
            const stats = document.getElementById('estatisticas');
            const detalhes = document.getElementById('detalhesValidacao');

            container.style.display = 'block';

            // Calcula porcentagens
            // NOVA FÓRMULA: Considera apenas campos com dados salvos ou que devem ser ignorados
            // Accuracy = (acertos) / (acertos + erros) * 100
            // Ignora campos sem dados salvos (naoPreenchidosSemDados)
            const totalRelevante = resultado.total; // Já conta apenas campos relevantes
            const totalErros = resultado.incorretos.length + resultado.naoPreenchidos.length + resultado.falsoPositivo.length;
            const taxaAcerto = totalRelevante > 0 ? ((resultado.acertos / totalRelevante) * 100).toFixed(1) : 0;
            const taxaPreenchimento = resultado.total > 0 ? ((resultado.preenchidos / resultado.total) * 100).toFixed(1) : 0;

            // Estatísticas em cards
            stats.innerHTML = `
                <div style="background: var(--primary-green); padding: 15px; border-radius: 8px; text-align: center; color: white;">
                    <div style="font-size: 32px; font-weight: bold;">${resultado.acertos}</div>
                    <div style="font-size: 12px;">✅ Acertos</div>
                </div>
                <div style="background: var(--light-green); padding: 15px; border-radius: 8px; text-align: center; color: white;">
                    <div style="font-size: 32px; font-weight: bold;">${totalErros}</div>
                    <div style="font-size: 12px;">[!] Erros</div>
                </div>
                <div style="background: linear-gradient(135deg, var(--light-green) 0%, #ff9800 100%); padding: 15px; border-radius: 8px; text-align: center; color: white;">
                    <div style="font-size: 32px; font-weight: bold;">${resultado.naoPreenchidosSemDados.length}</div>
                    <div style="font-size: 12px;">[Warning] Sem Dados</div>
                </div>
                <div style="background: var(--success-green); padding: 15px; border-radius: 8px; text-align: center; color: white;">
                    <div style="font-size: 32px; font-weight: bold;">${taxaAcerto}%</div>
                    <div style="font-size: 12px;">Accuracy</div>
                </div>
            `;

            // Detalhes completos
            let html = '';

            // ACERTOS
            if (resultado.corretos.length > 0) {
                html += '<div style="margin-bottom: 20px;"><h5 style="color: var(--success-green); border-left: 4px solid var(--success-green); padding-left: 10px;">✅ Campos Corretos (' + resultado.corretos.length + ')</h5><ul>';
                resultado.corretos.forEach(item => {
                    html += `<li><strong>${item.campo}</strong> (${item.tipo}) - Nível ${item.nivel} <span style="color: #6c757d;">→ "${item.valor}"</span></li>`;
                });
                html += '</ul></div>';
            }

            // ERROS
            if (resultado.incorretos.length > 0) {
                html += '<div style="margin-bottom: 20px;"><h5 style="color: var(--gray-600); border-left: 4px solid var(--gray-600); padding-left: 10px;">[!] Campos Incorretos (' + resultado.incorretos.length + ')</h5><ul>';
                resultado.incorretos.forEach(item => {
                    html += `<li><strong>${item.campo}</strong> (${item.tipo}) - Nível ${item.nivel}<br>
                             <span style="color: var(--gray-600);">Esperado: "${item.esperado}"</span><br>
                             <span style="color: #6c757d;">Obtido: "${item.obtido}"</span></li>`;
                });
                html += '</ul></div>';
            }

            // NÃO PREENCHIDOS (COM DADOS SALVOS) - ERRO
            if (resultado.naoPreenchidos.length > 0) {
                html += '<div style="margin-bottom: 20px;"><h5 style="color: var(--gray-600); border-left: 4px solid var(--gray-600); padding-left: 10px;">🚫 Não Preenchidos (COM dados) (' + resultado.naoPreenchidos.length + ')</h5><ul>';
                resultado.naoPreenchidos.forEach(item => {
                    html += `<li><strong>${item.campo}</strong> (${item.tipo}) - Nível ${item.nivel} <span style="color: var(--gray-600);">→ ERRO: Deveria preencher com: "${item.esperado}"</span></li>`;
                });
                html += '</ul></div>';
            }

            // NÃO PREENCHIDOS (SEM DADOS SALVOS) - AVISO (NÃO AFETA ACCURACY)
            if (resultado.naoPreenchidosSemDados.length > 0) {
                html += '<div style="margin-bottom: 20px;"><h5 style="color: var(--light-green); border-left: 4px solid var(--light-green); padding-left: 10px;">[Warning] Não Preenchidos (SEM dados) (' + resultado.naoPreenchidosSemDados.length + ')</h5>';
                html += '<p style="color: #856404; background: #e8f5e9; padding: 10px; border-radius: 5px; margin: 10px 0;">ℹEstes campos não foram preenchidos porque você não salvou dados para eles na extensão. <strong>Não afeta a accuracy.</strong></p><ul>';
                resultado.naoPreenchidosSemDados.forEach(item => {
                    html += `<li><strong>${item.campo}</strong> (${item.tipo}) - Nível ${item.nivel} <span style="color: #6c757d;">→ Sem dados salvos</span></li>`;
                });
                html += '</ul></div>';
            }

            // IGNORADOS CORRETAMENTE
            if (resultado.ignoradosCorreto.length > 0) {
                html += '<div style="margin-bottom: 20px;"><h5 style="color: #17a2b8; border-left: 4px solid #17a2b8; padding-left: 10px;">🛡Ignorados Corretamente (' + resultado.ignoradosCorreto.length + ')</h5><ul>';
                resultado.ignoradosCorreto.forEach(item => {
                    html += `<li><strong>${item.campo}</strong> - ${item.motivo}</li>`;
                });
                html += '</ul></div>';
            }

            // FALSOS POSITIVOS
            if (resultado.falsoPositivo.length > 0) {
                html += '<div style="margin-bottom: 20px;"><h5 style="color: var(--gray-600); border-left: 4px solid var(--gray-600); padding-left: 10px;">🚨 Falsos Positivos (' + resultado.falsoPositivo.length + ')</h5><ul>';
                resultado.falsoPositivo.forEach(item => {
                    html += `<li><strong>${item.campo}</strong> - ${item.motivo}<br>
                             <span style="color: var(--gray-600);">[!] Preencheu indevidamente: "${item.valor}"</span></li>`;
                });
                html += '</ul></div>';
            }

            detalhes.innerHTML = html;

            // Mostra o botão de copiar
            document.getElementById('btnCopiar').style.display = 'block';

            // Scroll suave até o resultado
            container.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }
    </script>

</body>
</html>
